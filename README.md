# Примитивная база данных

Консольное приложение на Python, имитирующее работу с базой данных. Поддерживает создание таблиц, CRUD-операции (insert, select, update, delete), фильтрацию по условиям и форматированный вывод через PrettyTable.

## Установка

```bash
make install
```

Или напрямую:

```bash
poetry install
```

## Запуск

```bash
make project
```

Или напрямую:

```bash
poetry run project
```

## Управление таблицами

| Команда | Описание |
|---------|----------|
| `create_table <имя> <столбец1:тип> ...` | Создать таблицу (столбец ID добавляется автоматически) |
| `list_tables` | Показать список всех таблиц |
| `drop_table <имя>` | Удалить таблицу |
| `info <имя>` | Информация о таблице (столбцы, количество записей) |

Поддерживаемые типы данных: `int`, `str`, `bool`.

## CRUD-операции

| Команда | Описание |
|---------|----------|
| `insert into <таблица> values (<зн1>, <зн2>, ...)` | Добавить запись (ID генерируется автоматически) |
| `select from <таблица>` | Показать все записи |
| `select from <таблица> where <столбец> = <значение>` | Показать записи по условию |
| `update <таблица> set <стб> = <зн> where <стб> = <зн>` | Обновить записи по условию |
| `delete from <таблица> where <столбец> = <значение>` | Удалить записи по условию |

Строковые значения указываются в кавычках: `"Sergei"`. Числа и булевы — без: `28`, `true`.

## Общие команды

| Команда | Описание |
|---------|----------|
| `help` | Справочная информация |
| `exit` | Выйти из программы |

### Пример использования

```
>>>Введите команду: create_table users name:str age:int is_active:bool
Таблица "users" успешно создана со столбцами: ID:int, name:str, age:int, is_active:bool

>>>Введите команду: insert into users values ("Sergei", 28, true)
Запись с ID=1 успешно добавлена в таблицу "users".

>>>Введите команду: select from users where age = 28
+----+--------+-----+-----------+
| ID |  name  | age | is_active |
+----+--------+-----+-----------+
| 1  | Sergei | 28  |    True   |
+----+--------+-----+-----------+

>>>Введите команду: update users set age = 29 where name = "Sergei"
Запись с ID=1 в таблице "users" успешно обновлена.

>>>Введите команду: delete from users where ID = 1
Запись с ID=1 успешно удалена из таблицы "users".

>>>Введите команду: info users
Таблица: users
Столбцы: ID:int, name:str, age:int, is_active:bool
Количество записей: 0
```

## Проверка кода

```bash
make lint
```

## Структура проекта

```
project2_Bakoev_Faridun/
├── src/
│   ├── __init__.py
│   └── primitive_db/
│       ├── __init__.py
│       ├── main.py          # Точка входа
│       ├── engine.py        # Игровой цикл и обработка команд
│       ├── core.py          # Логика таблиц и CRUD-операций
│       ├── parser.py        # Парсинг команд (where, set, values)
│       ├── utils.py         # Работа с файлами (JSON)
│       └── constants.py     # Константы (пути, типы данных)
├── data/                    # Данные таблиц (JSON-файлы)
├── Makefile
├── pyproject.toml
├── poetry.lock
├── README.md
└── .gitignore
```
